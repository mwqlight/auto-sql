# SQLå®¡è®¡ä¸ä¼˜åŒ–å¹³å°

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Java](https://img.shields.io/badge/java-17-orange.svg)
![SpringBoot](https://img.shields.io/badge/springboot-3.1.5-brightgreen.svg)
![Vue](https://img.shields.io/badge/vue-3.4.15-brightgreen.svg)
![TypeScript](https://img.shields.io/badge/typescript-5.3.3-blue.svg)

ä¸€ä¸ªæ— ç™»å½•è¦æ±‚çš„é«˜ç§‘æŠ€é£æ ¼SQLå®¡è®¡ä¸ä¼˜åŒ–å¹³å°ï¼Œä½¿ç”¨SpringBoot 3.1 + Vue3 + TypeScriptæŠ€æœ¯æ ˆï¼Œå®ç°æ•°æ®æºé…ç½®ã€SQLæ‰§è¡Œã€æ™ºèƒ½å®¡è®¡ã€ä¼˜åŒ–å»ºè®®ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- **å¤šæ•°æ®æºæ”¯æŒ**ï¼šMySQLã€PostgreSQLã€Oracleã€SQL Serverã€MongoDB
- **æ™ºèƒ½SQLå®¡è®¡**ï¼šæ€§èƒ½ã€å®‰å…¨ã€è§„èŒƒä¸‰ç»´åº¦å®¡è®¡
- **ä¼˜åŒ–å»ºè®®ç³»ç»Ÿ**ï¼šè‡ªåŠ¨ç”ŸæˆSQLä¼˜åŒ–æ–¹æ¡ˆ
- **é«˜ç§‘æŠ€UIç•Œé¢**ï¼šæ·±è‰²ä¸»é¢˜+éœ“è™¹å…‰æ•ˆ+3Då¯è§†åŒ–
- **å¼€ç®±å³ç”¨**ï¼šæ— éœ€é…ç½®ï¼Œå¯åŠ¨å³ç”¨

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯ (SpringBoot 3.1)
- **æ¡†æ¶**ï¼šSpring Boot 3.1.5, Java 17
- **æ•°æ®åº“**ï¼šSpring Data JPA, HikariCP
- **å·¥å…·åº“**ï¼šJSqlParser, Druid, Jackson
- **æ„å»ºå·¥å…·**ï¼šMaven

### å‰ç«¯ (Vue3 + TypeScript)
- **æ¡†æ¶**ï¼šVue 3.4.15, TypeScript 5.3.3
- **æ„å»ºå·¥å…·**ï¼šVite 5.0.12
- **UIç»„ä»¶åº“**ï¼šNaive UI
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios
- **æ•°æ®å¯è§†åŒ–**ï¼šECharts

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- JDK 17+
- Node.js 16+
- Maven 3.6+

### åç«¯è¿è¡Œ
```bash
cd sql-audit-backend
./mvnw spring-boot:run
```

### å‰ç«¯è¿è¡Œ
```bash
cd sql-audit-frontend
npm install
npm run dev
```

è®¿é—® http://localhost:3000 ä½¿ç”¨å¹³å°

### ç”Ÿäº§æ„å»º
```bash
# åç«¯æ„å»º
cd sql-audit-backend
./mvnw clean package -DskipTests

# å‰ç«¯æ„å»º
cd sql-audit-frontend
npm run build
```

## ğŸ“ é¡¹ç›®ç»“æ„

### åç«¯ç»“æ„
```
sql-audit-backend/
â”œâ”€â”€ src/main/java/com/sqlaudit/
â”‚   â”œâ”€â”€ config/         # é…ç½®ç±»
â”‚   â”œâ”€â”€ controller/     # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ service/        # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ repository/     # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ entity/         # å®ä½“ç±»
â”‚   â”œâ”€â”€ dto/            # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ util/           # å·¥å…·ç±»
â”‚   â””â”€â”€ SqlAuditApplication.java # å¯åŠ¨ç±»
â””â”€â”€ pom.xml
```

### å‰ç«¯ç»“æ„
```
sql-audit-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/            # APIæ¥å£å°è£…
â”‚   â”œâ”€â”€ assets/         # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ composables/    # ç»„åˆå¼API
â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/         # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ types/          # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ views/          # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ App.vue         # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts         # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ•°æ®æºé…ç½®ç®¡ç†
- æ”¯æŒå¤šç§æ•°æ®åº“è¿æ¥é…ç½®
- è¿æ¥æµ‹è¯•åŠŸèƒ½
- é…ç½®æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨

### 2. SQLæ‰§è¡Œä¸ç›‘æ§
- æ™ºèƒ½SQLç¼–è¾‘å™¨ï¼ˆè¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨ï¼‰
- SQLæ‰§è¡Œä¸ç»“æœå±•ç¤º
- æ‰§è¡Œæ—¶é—´ä¸æ€§èƒ½ç›‘æ§

### 3. æ™ºèƒ½å®¡è®¡å¼•æ“
- **æ€§èƒ½å®¡è®¡**ï¼šæ‰§è¡Œè®¡åˆ’åˆ†æã€å…¨è¡¨æ‰«ææ£€æµ‹
- **å®‰å…¨å®¡è®¡**ï¼šSQLæ³¨å…¥é£é™©ã€æ•æ„Ÿæ•°æ®è®¿é—®æ£€æµ‹
- **è§„èŒƒå®¡è®¡**ï¼šä»£ç é£æ ¼ã€æœ€ä½³å®è·µæ£€æŸ¥

### 4. ä¼˜åŒ–å»ºè®®ç³»ç»Ÿ
- SQLé‡å†™å»ºè®®
- ç´¢å¼•ä¼˜åŒ–å»ºè®®
- è¡¨ç»“æ„ä¼˜åŒ–å»ºè®®

## ğŸ”§ ç¯å¢ƒå˜é‡

```bash
# å¯é€‰é…ç½®
SQL_AUDIT_MAX_ROWS=1000      # æœ€å¤§è¿”å›è¡Œæ•°
SQL_AUDIT_TIMEOUT=30000      # SQLæ‰§è¡Œè¶…æ—¶(æ¯«ç§’)
SQL_AUDIT_RATE_LIMIT=10      # æ¯ç§’è¯·æ±‚é™åˆ¶
```

## ğŸ“Š è´¨é‡æ ‡å‡†

- SQLæ‰§è¡Œå“åº” < 2s (ç®€å•æŸ¥è¯¢)
- å®¡è®¡åˆ†æ < 3s
- é¦–å±åŠ è½½ < 1.5s
- æ”¯æŒ100+è¡ŒSQLç¼–è¾‘æ— å¡é¡¿

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ è´¡çŒ®è€…

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤GitHub Issueã€‚